<!-- Define element -->
<polymer-element name="qf-calculator" attributes="theme">
  <template>
    <link rel="stylesheet" type="text/css" href="calculator.css">
    <div id="label"><content></content></div>

    <qfcalculator>
      <!-- Placeholder for displaying the current operation -->
      <p>{{oplegend}}</p>

      <!-- Display the current value(s) -->
      <qfcalculatordisplay>
        <template repeat="{{ row in todisplay }}">
          <p>{{row}}</p>
        </template>
      </qfcalculatordisplay>

      <!-- Build the keypad -->
      <qfcalculatorkeypad>
        <template repeat="{{ row in keypad }}">
          <qfcalculatorrow>
            <template repeat="{{ key in row }}">
              <qfcalculatorkey>
              <template if="{{ key !== undefined }}">
                <button on-tap="{{keypress}}" data-key="{{key[0]}}" data-value="{{key[1]}}">{{[key[1]]}}</button>
              </template>
              </qfcalculatorkey>
            </template>
          </qfcalculatorrow>
        </template>
      </qfcalculatorkeypad>
    </qfcalculator>
  </template>
  <script src='calculator.js'></script>
</polymer-element>