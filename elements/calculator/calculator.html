<!-- Define element -->
<polymer-element name="qf-calculator" attributes="theme">
  <template>
    <link rel="stylesheet" type="text/css" href="calculator.css">
    <div id="label"><content></content></div>

    <qfcalculator>
      <qfcalculatordisplay>
        <!-- Display the current operation -->
        <qfcalculatoroperationlegend>
          {{oplegend}}
        </qfcalculatoroperationlegend>
        <!-- Display the current accumulator value(s) -->
        <qfcalculatoraccumulatordisplay>
          <qfcalculatoraccumulatordisplayrow class="history">
            <template if="{{ display.length > 1 }}">
              {{display[1]}}
            </template>
          </qfcalculatoraccumulatordisplayrow>
          <qfcalculatoraccumulatordisplayrow>
            {{display[0]}}
          </qfcalculatoraccumulatordisplayrow>
        </qfcalculatoraccumulatordisplay>
      </qfcalculatordisplay>

      <!-- Build the keypad -->
      <qfcalculatorkeypad>
        <template repeat="{{ row in keypad }}">
          <qfcalculatorrow>
            <template repeat="{{ key in row }}">
              <qfcalculatorkey>
              <template if="{{ key !== undefined }}">
                <button on-tap="{{keypress}}" data-key="{{key[0]}}" data-value="{{key[1]}}">{{[key[1]]}}</button>
              </template>
              </qfcalculatorkey>
            </template>
          </qfcalculatorrow>
        </template>
      </qfcalculatorkeypad>
    </qfcalculator>
  </template>
  <script src='calculator.js'></script>
</polymer-element>